
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Fee grant &#8212; Terra Docs  documentation</title>
    
  <link href="../../../_static/css/theme.css" rel="stylesheet">
  <link href="../../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.59c74d8c95b765a7fd995ac71d459ebe.min.css" />
    
  <link rel="preload" as="script" href="../../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/language_data.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/design-tabs.js"></script>
    <script src="../../../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"processClass": "tex2jax_process|mathjax_process|math|output_area"}})</script>
    <link rel="shortcut icon" href="../../../_static/docs_favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Governance" href="spec-governance.html" />
    <link rel="prev" title="Evidence" href="spec-evidence.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../../_static/docs_logo.svg" class="logo" alt="logo">
      
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../learn/README.html">
   Learn
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../learn/terra-station/README.html">
     Terra Station
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../../learn/terra-station/download/README.html">
       Download
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
      <label for="toctree-checkbox-3">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../../learn/terra-station/download/terra-station-desktop.html">
         Terra Station desktop
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../../learn/terra-station/download/terra-station-extension.html">
         Terra Station extension
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../../learn/terra-station/download/terra-station-mobile.html">
         Terra Station mobile
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../../learn/terra-station/station-guides/README.html">
       Terra Station guides
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
      <label for="toctree-checkbox-4">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../../learn/terra-station/station-guides/wallet.html">
         Wallet
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../../learn/terra-station/station-guides/staking.html">
         Manage delegations
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../../learn/terra-station/station-guides/swap.html">
         Mint, burn, or swap
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../../learn/terra-station/station-guides/governance.html">
         Governance
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../../learn/terra-station/station-guides/contracts.html">
         Contracts
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../../learn/terra-station/station-guides/testnet.html">
         Use the testnet
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../learn/protocol.html">
     About the Terra Protocol
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../learn/fees.html">
     Fees on Terra
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../learn/glossary.html">
     Glossary
    </a>
   </li>
  </ul>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../README.html">
   Develop
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../dapp/README.html">
     Build a dApp
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
    <label for="toctree-checkbox-6">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../dapp/quick-start/README.html">
       5-minute quickstart guide
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
      <label for="toctree-checkbox-7">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../dapp/quick-start/initial-setup.html">
         Initial setup
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../dapp/quick-start/using-terrain.html">
         Using Terrain
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../dapp/smart-contracts/README.html">
       In-depth dApp guide
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
      <label for="toctree-checkbox-8">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../dapp/smart-contracts/build-terra-dapp.html">
         Build a simple Terra dApp
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../dapp/smart-contracts/interact-with-smart-contract.html">
         Interacting with the Contract
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../dapp/smart-contracts/manage-cw20-tokens.html">
         CW20 Tokens
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../dapp/smart-contracts/set-up-local-environment.html">
         Environment Setup
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../dapp/smart-contracts/write-smart-contract.html">
         Writing the Contract
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../how-to/README.html">
     Guides
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
    <label for="toctree-checkbox-9">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../how-to/terrad/README.html">
       terrad
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
      <label for="toctree-checkbox-10">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../how-to/terrad/install-terrad.html">
         Install terrad
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../how-to/terrad/using-terrad.html">
         Using terrad
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../how-to/terrad/commands.html">
         Commands
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../how-to/terrad/subcommands.html">
         Subcommands
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../how-to/localterra/README.html">
       LocalTerra
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
      <label for="toctree-checkbox-11">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../how-to/localterra/install-localterra.html">
         Install LocalTerra
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../how-to/localterra/configure.html">
         Configure LocalTerra
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../how-to/localterra/integrations.html">
         Integrations
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../how-to/localterra/accounts.html">
         Accounts
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../how-to/sign-with-multisig.html">
       Sign with a multisig account
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../how-to/start-lcd.html">
       Start the light client daemon (LCD)
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 current active has-children">
    <a class="reference internal" href="README.html">
     Terra core modules
    </a>
    <input checked="" class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
    <label for="toctree-checkbox-12">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="current">
     <li class="toctree-l3">
      <a class="reference internal" href="spec-auth.html">
       Auth
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="spec-authz.html">
       AuthZ
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="spec-bank.html">
       Bank
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="spec-capability.html">
       Capability
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="spec-distribution.html">
       Distribution
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="spec-evidence.html">
       Evidence
      </a>
     </li>
     <li class="toctree-l3 current active">
      <a class="current reference internal" href="#">
       Fee grant
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="spec-governance.html">
       Governance
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="spec-market.html">
       Market
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="spec-mint.html">
       Mint
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="spec-oracle.html">
       Oracle
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="spec-slashing.html">
       Slashing
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="spec-staking.html">
       Staking
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="spec-treasury.html">
       Treasury
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="spec-wasm.html">
       WASM
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../sdks/README.html">
     SDKs
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
    <label for="toctree-checkbox-13">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../sdks/terra-js/README.html">
       Terra.js
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
      <label for="toctree-checkbox-14">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../sdks/terra-js/add-modules.html">
         Add modules
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../sdks/terra-js/coin-and-coins.html">
         Coin and Coins
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../sdks/terra-js/common-examples.html">
         Common examples
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../sdks/terra-js/fees.html">
         Fees
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../sdks/terra-js/keys.html">
         Keys
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../sdks/terra-js/make-a-connection.html">
         Make a connection
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../sdks/terra-js/msgAuthorization.html">
         MsgAuthorization
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../sdks/terra-js/multisend.html">
         MsgSend
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../sdks/terra-js/numeric.html">
         Numeric
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../sdks/terra-js/oracle-feeder.html">
         Oracle feeder
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../sdks/terra-js/query-data.html">
         Query data
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../sdks/terra-js/smart-contracts.html">
         Smart contracts
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../sdks/terra-js/station-extension.html">
         Terra Station extension
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../sdks/terra-js/transactions.html">
         Transactions
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../sdks/terra-js/wallets.html">
         Wallets
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../sdks/terra-js/Websockets.html">
         Websockets
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../reference/README.html">
     Dev reference
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
    <label for="toctree-checkbox-15">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/endpoints.html">
       RPC endpoints
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/history-and-changes.html">
       History and changes
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/migration-guide.html">
       Columbus-5 upgrade
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../full-node/README.html">
   Full node
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/>
  <label for="toctree-checkbox-16">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../full-node/run-a-full-terra-node/README.html">
     Run a full Terra node
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/>
    <label for="toctree-checkbox-17">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../full-node/run-a-full-terra-node/system-config.html">
       System configuration
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../full-node/run-a-full-terra-node/build-terra-core.html">
       Build Terra core
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../full-node/run-a-full-terra-node/set-up-production.html">
       Set up a production environment
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../full-node/run-a-full-terra-node/configure-general-settings.html">
       Configure general settings
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../full-node/run-a-full-terra-node/join-a-network.html">
       Join a network
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../full-node/run-a-full-terra-node/sync.html">
       Sync
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../full-node/run-a-full-terra-node/updates-and-additional.html">
       Updates and additional settings
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../full-node/manage-a-terra-validator/README.html">
     Manage a validator
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/>
    <label for="toctree-checkbox-18">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../full-node/manage-a-terra-validator/court-delegations.html">
       Court delegations
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../full-node/manage-a-terra-validator/faq.html">
       Validator FAQ
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../full-node/manage-a-terra-validator/implement-security.html">
       Implement security practices
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../full-node/manage-a-terra-validator/set-up-oracle-feeder.html">
       Set up an oracle feeder
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../full-node/manage-a-terra-validator/set-up-validator.html">
       Register your Terra validator
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../full-node/manage-a-terra-validator/troubleshoot-validator-problems.html">
       Troubleshoot validator problems
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../full-node/reference/README.html">
     Node reference
    </a>
   </li>
  </ul>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../ecosystem/README.html">
   Ecosystem
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/>
  <label for="toctree-checkbox-19">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../ecosystem/explore.html">
     Explore the ecosystem
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../ecosystem/integrations.html">
     Integrations
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../../_sources/docs/develop/module-specifications/spec-feegrant.md.txt"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/terra-money/docs"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/terra-money/docs/issues/new?title=Issue%20on%20page%20%2Fdocs/develop/module-specifications/spec-feegrant.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/terra-money/docs/edit/master/docs/docs/develop/module-specifications/spec-feegrant.md"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#concepts">
   Concepts
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#grant">
     Grant
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fee-allowance-types">
     Fee allowance types
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#basicallowance">
       <code class="docutils literal notranslate">
        <span class="pre">
         BasicAllowance
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#periodicallowance">
       <code class="docutils literal notranslate">
        <span class="pre">
         PeriodicAllowance
        </span>
       </code>
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fee-account-flag">
     Fee account flag
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#granted-fee-deductions">
     Granted fee deductions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#gas">
     Gas
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#state">
   State
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#feeallowance">
     FeeAllowance
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#message-types">
   Message Types
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#msggrantallowance">
     MsgGrantAllowance
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#msgrevokeallowance">
     MsgRevokeAllowance
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Fee grant</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#concepts">
   Concepts
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#grant">
     Grant
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fee-allowance-types">
     Fee allowance types
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#basicallowance">
       <code class="docutils literal notranslate">
        <span class="pre">
         BasicAllowance
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#periodicallowance">
       <code class="docutils literal notranslate">
        <span class="pre">
         PeriodicAllowance
        </span>
       </code>
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fee-account-flag">
     Fee account flag
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#granted-fee-deductions">
     Granted fee deductions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#gas">
     Gas
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#state">
   State
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#feeallowance">
     FeeAllowance
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#message-types">
   Message Types
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#msggrantallowance">
     MsgGrantAllowance
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#msgrevokeallowance">
     MsgRevokeAllowance
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="fee-grant">
<h1>Fee grant<a class="headerlink" href="#fee-grant" title="Permalink to this headline">¶</a></h1>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Terra’s fee grant module inherits from the Cosmos SDK’s <a class="reference external" href="https://docs.cosmos.network/master/modules/feegrant/"><code class="docutils literal notranslate"><span class="pre">feegrant</span></code></a> module. This document is a stub and explains mainly important Terra-specific notes about how it is used.</p>
</div>
<p>This module allows an account, the granter, to permit another account, the grantee, to pay for fees from the granter’s account balance. Grantees will not need to maintain their own balance for paying fees.</p>
<div class="section" id="concepts">
<h2>Concepts<a class="headerlink" href="#concepts" title="Permalink to this headline">¶</a></h2>
<div class="section" id="grant">
<h3>Grant<a class="headerlink" href="#grant" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Grant</span></code> is stored in the KVStore to record a grant with full context.</p>
<p>Every <code class="docutils literal notranslate"><span class="pre">grant</span></code> contains the following information:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">granter</span></code>: The account address that gives permission to the grantee.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">grantee</span></code>: The beneficiary account address.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">allowance</span></code>: The <a class="reference internal" href="#fee-allowance-types"><span class="std std-doc">type of fee allowance</span></a> given to the grantee. <code class="docutils literal notranslate"><span class="pre">Allowance</span></code> accepts an interface that implements <code class="docutils literal notranslate"><span class="pre">FeeAllowanceI</span></code> encoded as <code class="docutils literal notranslate"><span class="pre">Any</span></code> type, as shown in the following example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="o">//</span> <span class="n">allowance</span> <span class="n">can</span> <span class="n">be</span> <span class="nb">any</span> <span class="n">of</span> <span class="n">basic</span> <span class="ow">and</span> <span class="n">filtered</span> <span class="n">fee</span> <span class="n">allowance</span><span class="o">.</span>
  <span class="n">google</span><span class="o">.</span><span class="n">protobuf</span><span class="o">.</span><span class="n">Any</span> <span class="n">allowance</span> <span class="o">=</span> <span class="mi">3</span> <span class="p">[(</span><span class="n">cosmos_proto</span><span class="o">.</span><span class="n">accepts_interface</span><span class="p">)</span> <span class="o">=</span> <span class="s2">&quot;FeeAllowanceI&quot;</span><span class="p">];</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The following example shows <code class="docutils literal notranslate"><span class="pre">FeeAllowanceI</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span> <span class="n">FeeAllowanceI</span> <span class="n">interface</span> <span class="p">{</span>
        <span class="o">//</span> <span class="n">Accept</span> <span class="n">can</span> <span class="n">use</span> <span class="n">fee</span> <span class="n">payment</span> <span class="n">requested</span> <span class="k">as</span> <span class="n">well</span> <span class="k">as</span> <span class="n">timestamp</span> <span class="n">of</span> <span class="n">the</span> <span class="n">current</span> <span class="n">block</span>
        <span class="o">//</span> <span class="n">to</span> <span class="n">determine</span> <span class="n">whether</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">to</span> <span class="n">process</span> <span class="n">this</span><span class="o">.</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">checked</span> <span class="ow">in</span>
        <span class="o">//</span> <span class="n">Keeper</span><span class="o">.</span><span class="n">UseGrantedFees</span> <span class="ow">and</span> <span class="n">the</span> <span class="k">return</span> <span class="n">values</span> <span class="n">should</span> <span class="n">match</span> <span class="n">how</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">handled</span> <span class="n">there</span><span class="o">.</span>
        <span class="o">//</span>
        <span class="o">//</span> <span class="n">If</span> <span class="n">it</span> <span class="n">returns</span> <span class="n">an</span> <span class="n">error</span><span class="p">,</span> <span class="n">the</span> <span class="n">fee</span> <span class="n">payment</span> <span class="ow">is</span> <span class="n">rejected</span><span class="p">,</span> <span class="n">otherwise</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">accepted</span><span class="o">.</span>
        <span class="o">//</span> <span class="n">The</span> <span class="n">FeeAllowance</span> <span class="n">implementation</span> <span class="ow">is</span> <span class="n">expected</span> <span class="n">to</span> <span class="n">update</span> <span class="n">it</span><span class="s1">&#39;s internal state</span>
        <span class="o">//</span> <span class="ow">and</span> <span class="n">will</span> <span class="n">be</span> <span class="n">saved</span> <span class="n">again</span> <span class="n">after</span> <span class="n">an</span> <span class="n">acceptance</span><span class="o">.</span>
        <span class="o">//</span>
        <span class="o">//</span> <span class="n">If</span> <span class="n">remove</span> <span class="ow">is</span> <span class="n">true</span> <span class="p">(</span><span class="n">regardless</span> <span class="n">of</span> <span class="n">the</span> <span class="n">error</span><span class="p">),</span> <span class="n">the</span> <span class="n">FeeAllowance</span> <span class="n">will</span> <span class="n">be</span> <span class="n">deleted</span> <span class="kn">from</span> <span class="nn">storage</span>
        <span class="o">//</span> <span class="p">(</span><span class="n">eg</span><span class="o">.</span> <span class="n">when</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">used</span> <span class="n">up</span><span class="p">)</span><span class="o">.</span> <span class="p">(</span><span class="n">See</span> <span class="n">call</span> <span class="n">to</span> <span class="n">RevokeFeeAllowance</span> <span class="ow">in</span> <span class="n">Keeper</span><span class="o">.</span><span class="n">UseGrantedFees</span><span class="p">)</span>
        <span class="n">Accept</span><span class="p">(</span><span class="n">ctx</span> <span class="n">sdk</span><span class="o">.</span><span class="n">Context</span><span class="p">,</span> <span class="n">fee</span> <span class="n">sdk</span><span class="o">.</span><span class="n">Coins</span><span class="p">,</span> <span class="n">msgs</span> <span class="p">[]</span><span class="n">sdk</span><span class="o">.</span><span class="n">Msg</span><span class="p">)</span> <span class="p">(</span><span class="n">remove</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">err</span> <span class="n">error</span><span class="p">)</span>

        <span class="o">//</span> <span class="n">ValidateBasic</span> <span class="n">should</span> <span class="n">evaluate</span> <span class="n">this</span> <span class="n">FeeAllowance</span> <span class="k">for</span> <span class="n">internal</span> <span class="n">consistency</span><span class="o">.</span>
        <span class="o">//</span> <span class="n">Don</span><span class="s1">&#39;t allow negative amounts, or negative periods for example.</span>
        <span class="n">ValidateBasic</span><span class="p">()</span> <span class="n">error</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
<p>Only one fee grant is allowed between a granter and a grantee. Self-grants are prohibited.</p>
</div>
<div class="section" id="fee-allowance-types">
<h3>Fee allowance types<a class="headerlink" href="#fee-allowance-types" title="Permalink to this headline">¶</a></h3>
<p>The following types of fee allowances can be granted.</p>
<div class="section" id="basicallowance">
<h4><code class="docutils literal notranslate"><span class="pre">BasicAllowance</span></code><a class="headerlink" href="#basicallowance" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">BasicAllowance</span></code> permits the grantee to pay fees by using funds from the granter’s account. If the threshold for either <code class="docutils literal notranslate"><span class="pre">spend_limit</span></code> or <code class="docutils literal notranslate"><span class="pre">expiration</span></code> is met, the grant is removed from the state.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">BasicAllowance</span> <span class="n">implements</span> <span class="n">Allowance</span> <span class="k">with</span> <span class="n">a</span> <span class="n">one</span><span class="o">-</span><span class="n">time</span> <span class="n">grant</span> <span class="n">of</span> <span class="n">tokens</span>
<span class="o">//</span> <span class="n">that</span> <span class="n">optionally</span> <span class="n">expires</span><span class="o">.</span> <span class="n">The</span> <span class="n">grantee</span> <span class="n">can</span> <span class="n">use</span> <span class="n">up</span> <span class="n">to</span> <span class="n">SpendLimit</span> <span class="n">to</span> <span class="n">cover</span> <span class="n">fees</span><span class="o">.</span>
<span class="n">message</span> <span class="n">BasicAllowance</span> <span class="p">{</span>
  <span class="n">option</span> <span class="p">(</span><span class="n">cosmos_proto</span><span class="o">.</span><span class="n">implements_interface</span><span class="p">)</span> <span class="o">=</span> <span class="s2">&quot;FeeAllowanceI&quot;</span><span class="p">;</span>

  <span class="o">//</span> <span class="n">spend_limit</span> <span class="n">specifies</span> <span class="n">the</span> <span class="n">maximum</span> <span class="n">amount</span> <span class="n">of</span> <span class="n">tokens</span> <span class="n">that</span> <span class="n">can</span> <span class="n">be</span> <span class="n">spent</span>
  <span class="o">//</span> <span class="n">by</span> <span class="n">this</span> <span class="n">allowance</span> <span class="ow">and</span> <span class="n">will</span> <span class="n">be</span> <span class="n">updated</span> <span class="k">as</span> <span class="n">tokens</span> <span class="n">are</span> <span class="n">spent</span><span class="o">.</span> <span class="n">If</span> <span class="n">it</span> <span class="ow">is</span>
  <span class="o">//</span> <span class="n">empty</span><span class="p">,</span> <span class="n">there</span> <span class="ow">is</span> <span class="n">no</span> <span class="n">spend</span> <span class="n">limit</span> <span class="ow">and</span> <span class="nb">any</span> <span class="n">amount</span> <span class="n">of</span> <span class="n">coins</span> <span class="n">can</span> <span class="n">be</span> <span class="n">spent</span><span class="o">.</span>
  <span class="n">repeated</span> <span class="n">cosmos</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">v1beta1</span><span class="o">.</span><span class="n">Coin</span> <span class="n">spend_limit</span> <span class="o">=</span> <span class="mi">1</span>
      <span class="p">[(</span><span class="n">gogoproto</span><span class="o">.</span><span class="n">nullable</span><span class="p">)</span> <span class="o">=</span> <span class="n">false</span><span class="p">,</span> <span class="p">(</span><span class="n">gogoproto</span><span class="o">.</span><span class="n">castrepeated</span><span class="p">)</span> <span class="o">=</span> <span class="s2">&quot;github.com/cosmos/cosmos-sdk/types.Coins&quot;</span><span class="p">];</span>

  <span class="o">//</span> <span class="n">expiration</span> <span class="n">specifies</span> <span class="n">an</span> <span class="n">optional</span> <span class="n">time</span> <span class="n">when</span> <span class="n">this</span> <span class="n">allowance</span> <span class="n">expires</span>
  <span class="n">google</span><span class="o">.</span><span class="n">protobuf</span><span class="o">.</span><span class="n">Timestamp</span> <span class="n">expiration</span> <span class="o">=</span> <span class="mi">2</span> <span class="p">[(</span><span class="n">gogoproto</span><span class="o">.</span><span class="n">stdtime</span><span class="p">)</span> <span class="o">=</span> <span class="n">true</span><span class="p">];</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">spend_limit</span></code>: The amount of tokens from the granter’s account that the grantee can spend. This value is optional. If it is blank, no spend limit is assigned, and the grantee can spend any amount of tokens from the granter’s account before the expiration is met.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">expiration</span></code>: The date and time when the grant expires. This value is optional. If it is blank, the grant does not expire.</p></li>
</ul>
<p>To restrict the grantee when values for <code class="docutils literal notranslate"><span class="pre">spend_limit</span></code> and <code class="docutils literal notranslate"><span class="pre">expiration</span></code> are blank, revoke the grant.</p>
</div>
<div class="section" id="periodicallowance">
<h4><code class="docutils literal notranslate"><span class="pre">PeriodicAllowance</span></code><a class="headerlink" href="#periodicallowance" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">PeriodicAllowance</span></code> is a repeating fee allowance for a specified period and for a specified maximum number of tokens that can spent within that period.</p>
<div class="highlight-details notranslate"><div class="highlight"><pre><span></span>
```
// PeriodicAllowance extends Allowance to allow for both a maximum cap,
// as well as a limit per time period.
message PeriodicAllowance {
  option (cosmos_proto.implements_interface) = &quot;FeeAllowanceI&quot;;

  // basic specifies a struct of `BasicAllowance`
  BasicAllowance basic = 1 [(gogoproto.nullable) = false];

  // period specifies the time duration in which period_spend_limit coins can
  // be spent before that allowance is reset
  google.protobuf.Duration period = 2 [(gogoproto.stdduration) = true, (gogoproto.nullable) = false];

  // period_spend_limit specifies the maximum number of coins that can be spent
  // in the period
  repeated cosmos.base.v1beta1.Coin period_spend_limit = 3
      [(gogoproto.nullable) = false, (gogoproto.castrepeated) = &quot;github.com/cosmos/cosmos-sdk/types.Coins&quot;];

  // period_can_spend is the number of coins left to be spent before the period_reset time
  repeated cosmos.base.v1beta1.Coin period_can_spend = 4
      [(gogoproto.nullable) = false, (gogoproto.castrepeated) = &quot;github.com/cosmos/cosmos-sdk/types.Coins&quot;];

  // period_reset is the time at which this period resets and a new one begins,
  // it is calculated from the start time of the first transaction after the
  // last period ended
  google.protobuf.Timestamp period_reset = 5 [(gogoproto.stdtime) = true, (gogoproto.nullable) = false];
}

// AllowedMsgAllowance creates allowance only for specified message types.
message AllowedMsgAllowance {
  option (gogoproto.goproto_getters)         = false;
  option (cosmos_proto.implements_interface) = &quot;FeeAllowanceI&quot;;

  // allowance can be any of basic and filtered fee allowance.
  google.protobuf.Any allowance = 1 [(cosmos_proto.accepts_interface) = &quot;FeeAllowanceI&quot;];

  // allowed_messages are the messages for which the grantee has the access.
  repeated string allowed_messages = 2;
}

// Grant is stored in the KVStore to record a grant with full context
message Grant {
  // granter is the address of the user granting an allowance of their funds.
  string              granter   = 1;

  // grantee is the address of the user being granted an allowance of another user&#39;s funds.
  string              grantee   = 2;
```
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">basic</span></code>: The instance of <code class="docutils literal notranslate"><span class="pre">BasicAllowance</span></code>.  It is optional. If empty, the grant will have not have a <code class="docutils literal notranslate"><span class="pre">spend_limit</span></code> or <code class="docutils literal notranslate"><span class="pre">expiration</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">period</span></code>: The duration that <code class="docutils literal notranslate"><span class="pre">PeriodicAllowance</span></code> is granted. After each period expires, <code class="docutils literal notranslate"><span class="pre">period_spend_limit</span></code> is reset.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">period_spend_limit</span></code>: The maximum number of tokens that the grantee is allowed to spend during the period.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">period_can_spend</span></code>: The number of tokens remaining to be spent before the period_reset time.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">period_reset</span></code>: The time when the period ends and a new period begins.</p></li>
</ul>
</div>
</div>
<div class="section" id="fee-account-flag">
<h3>Fee account flag<a class="headerlink" href="#fee-account-flag" title="Permalink to this headline">¶</a></h3>
<p>To run transactions that use fee grant from the CLI, specify the <code class="docutils literal notranslate"><span class="pre">FeeAccount</span></code> flag followed by the granter’s account address. When this flag is set, <code class="docutils literal notranslate"><span class="pre">clientCtx</span></code> appends the granter’s account address.</p>
<div class="highlight-details notranslate"><div class="highlight"><pre><span></span>
```
if clientCtx.FeeGranter == nil || flagSet.Changed(flags.FlagFeeAccount) {
  granter, _ := flagSet.GetString(flags.FlagFeeAccount)

  if granter != &quot;&quot; {
    granterAcc, err := sdk.AccAddressFromBech32(granter)
    if err != nil {
      return clientCtx, err
    }

    clientCtx = clientCtx.WithFeeGranterAddress(granterAcc)
  }
}
```

```
package tx

import (
	&quot;bufio&quot;
	&quot;errors&quot;
	&quot;fmt&quot;
	&quot;net/http&quot;
	&quot;os&quot;

	&quot;github.com/spf13/pflag&quot;

	&quot;github.com/cosmos/cosmos-sdk/client&quot;
	&quot;github.com/cosmos/cosmos-sdk/client/flags&quot;
	&quot;github.com/cosmos/cosmos-sdk/client/input&quot;
	&quot;github.com/cosmos/cosmos-sdk/crypto/keys/secp256k1&quot;
	cryptotypes &quot;github.com/cosmos/cosmos-sdk/crypto/types&quot;
	sdk &quot;github.com/cosmos/cosmos-sdk/types&quot;
	sdkerrors &quot;github.com/cosmos/cosmos-sdk/types/errors&quot;
	&quot;github.com/cosmos/cosmos-sdk/types/rest&quot;
	&quot;github.com/cosmos/cosmos-sdk/types/tx&quot;
	&quot;github.com/cosmos/cosmos-sdk/types/tx/signing&quot;
	authsigning &quot;github.com/cosmos/cosmos-sdk/x/auth/signing&quot;
	authtx &quot;github.com/cosmos/cosmos-sdk/x/auth/tx&quot;
)

// GenerateOrBroadcastTxCLI will either generate and print and unsigned transaction
// or sign it and broadcast it returning an error upon failure.
func GenerateOrBroadcastTxCLI(clientCtx client.Context, flagSet *pflag.FlagSet, msgs ...sdk.Msg) error {
	txf := NewFactoryCLI(clientCtx, flagSet)
	return GenerateOrBroadcastTxWithFactory(clientCtx, txf, msgs...)
}

// GenerateOrBroadcastTxWithFactory will either generate and print and unsigned transaction
// or sign it and broadcast it returning an error upon failure.
func GenerateOrBroadcastTxWithFactory(clientCtx client.Context, txf Factory, msgs ...sdk.Msg) error {
	if clientCtx.GenerateOnly {
		return GenerateTx(clientCtx, txf, msgs...)
	}

	return BroadcastTx(clientCtx, txf, msgs...)
}

// GenerateTx will generate an unsigned transaction and print it to the writer
// specified by ctx.Output. If simulation was requested, the gas will be
// simulated and also printed to the same writer before the transaction is
// printed.
func GenerateTx(clientCtx client.Context, txf Factory, msgs ...sdk.Msg) error {
	if txf.SimulateAndExecute() {
		if clientCtx.Offline {
			return errors.New(&quot;cannot estimate gas in offline mode&quot;)
		}

		_, adjusted, err := CalculateGas(clientCtx.QueryWithData, txf, msgs...)
		if err != nil {
			return err
		}

		txf = txf.WithGas(adjusted)
		_, _ = fmt.Fprintf(os.Stderr, &quot;%s\n&quot;, GasEstimateResponse{GasEstimate: txf.Gas()})
	}

	tx, err := BuildUnsignedTx(txf, msgs...)
	if err != nil {
		return err
	}

	json, err := clientCtx.TxConfig.TxJSONEncoder()(tx.GetTx())
	if err != nil {
		return err
	}

	return clientCtx.PrintString(fmt.Sprintf(&quot;%s\n&quot;, json))
}

// BroadcastTx attempts to generate, sign and broadcast a transaction with the
// given set of messages. It will also simulate gas requirements if necessary.
// It will return an error upon failure.
func BroadcastTx(clientCtx client.Context, txf Factory, msgs ...sdk.Msg) error {
	txf, err := PrepareFactory(clientCtx, txf)
	if err != nil {
		return err
	}

	if txf.SimulateAndExecute() || clientCtx.Simulate {
		_, adjusted, err := CalculateGas(clientCtx.QueryWithData, txf, msgs...)
		if err != nil {
			return err
		}

		txf = txf.WithGas(adjusted)
		_, _ = fmt.Fprintf(os.Stderr, &quot;%s\n&quot;, GasEstimateResponse{GasEstimate: txf.Gas()})
	}

	if clientCtx.Simulate {
		return nil
	}

	tx, err := BuildUnsignedTx(txf, msgs...)
	if err != nil {
		return err
	}

	if !clientCtx.SkipConfirm {
		out, err := clientCtx.TxConfig.TxJSONEncoder()(tx.GetTx())
		if err != nil {
			return err
		}

		_, _ = fmt.Fprintf(os.Stderr, &quot;%s\n\n&quot;, out)

		buf := bufio.NewReader(os.Stdin)
		ok, err := input.GetConfirmation(&quot;confirm transaction before signing and broadcasting&quot;, buf, os.Stderr)

		if err != nil || !ok {
			_, _ = fmt.Fprintf(os.Stderr, &quot;%s\n&quot;, &quot;cancelled transaction&quot;)
			return err
		}
	}

	tx.SetFeeGranter(clientCtx.GetFeeGranterAddress())
	err = Sign(txf, clientCtx.GetFromName(), tx, true)
	if err != nil {
		return err
	}

	txBytes, err := clientCtx.TxConfig.TxEncoder()(tx.GetTx())
	if err != nil {
		return err
	}

	// broadcast to a Tendermint node
	res, err := clientCtx.BroadcastTx(txBytes)
	if err != nil {
		return err
	}

	return clientCtx.PrintProto(res)
}

// WriteGeneratedTxResponse writes a generated unsigned transaction to the
// provided http.ResponseWriter. It will simulate gas costs if requested by the
// BaseReq. Upon any error, the error will be written to the http.ResponseWriter.
// Note that this function returns the legacy StdTx Amino JSON format for compatibility
// with legacy clients.
func WriteGeneratedTxResponse(
	ctx client.Context, w http.ResponseWriter, br rest.BaseReq, msgs ...sdk.Msg,
) {
	gasAdj, ok := rest.ParseFloat64OrReturnBadRequest(w, br.GasAdjustment, flags.DefaultGasAdjustment)
	if !ok {
		return
	}

	gasSetting, err := flags.ParseGasSetting(br.Gas)
	if rest.CheckBadRequestError(w, err) {
		return
	}

	txf := Factory{fees: br.Fees, gasPrices: br.GasPrices}.
		WithAccountNumber(br.AccountNumber).
		WithSequence(br.Sequence).
		WithGas(gasSetting.Gas).
		WithGasAdjustment(gasAdj).
		WithMemo(br.Memo).
		WithChainID(br.ChainID).
		WithSimulateAndExecute(br.Simulate).
		WithTxConfig(ctx.TxConfig).
		WithTimeoutHeight(br.TimeoutHeight)

	if br.Simulate || gasSetting.Simulate {
		if gasAdj &lt; 0 {
			rest.WriteErrorResponse(w, http.StatusBadRequest, sdkerrors.ErrorInvalidGasAdjustment.Error())
			return
		}

		_, adjusted, err := CalculateGas(ctx.QueryWithData, txf, msgs...)
		if rest.CheckInternalServerError(w, err) {
			return
		}

		txf = txf.WithGas(adjusted)

		if br.Simulate {
			rest.WriteSimulationResponse(w, ctx.LegacyAmino, txf.Gas())
			return
		}
	}

	tx, err := BuildUnsignedTx(txf, msgs...)
	if rest.CheckBadRequestError(w, err) {
		return
	}

	stdTx, err := ConvertTxToStdTx(ctx.LegacyAmino, tx.GetTx())
	if rest.CheckInternalServerError(w, err) {
		return
	}

	output, err := ctx.LegacyAmino.MarshalJSON(stdTx)
	if rest.CheckInternalServerError(w, err) {
		return
	}

	w.Header().Set(&quot;Content-Type&quot;, &quot;application/json&quot;)
	w.WriteHeader(http.StatusOK)
	_, _ = w.Write(output)
}

// BuildUnsignedTx builds a transaction to be signed given a set of messages. The
// transaction is initially created via the provided factory&#39;s generator. Once
// created, the fee, memo, and messages are set.
func BuildUnsignedTx(txf Factory, msgs ...sdk.Msg) (client.TxBuilder, error) {
	if txf.chainID == &quot;&quot; {
		return nil, fmt.Errorf(&quot;chain ID required but not specified&quot;)
	}

	fees := txf.fees

	if !txf.gasPrices.IsZero() {
		if !fees.IsZero() {
			return nil, errors.New(&quot;cannot provide both fees and gas prices&quot;)
		}

		glDec := sdk.NewDec(int64(txf.gas))

		// Derive the fees based on the provided gas prices, where
		// fee = ceil(gasPrice * gasLimit).
		fees = make(sdk.Coins, len(txf.gasPrices))

		for i, gp := range txf.gasPrices {
			fee := gp.Amount.Mul(glDec)
			fees[i] = sdk.NewCoin(gp.Denom, fee.Ceil().RoundInt())
		}
	}

	tx := txf.txConfig.NewTxBuilder()

	if err := tx.SetMsgs(msgs...); err != nil {
		return nil, err
	}

	tx.SetMemo(txf.memo)
	tx.SetFeeAmount(fees)
	tx.SetGasLimit(txf.gas)
	tx.SetTimeoutHeight(txf.TimeoutHeight())

	return tx, nil
}

// BuildSimTx creates an unsigned tx with an empty single signature and returns
// the encoded transaction or an error if the unsigned transaction cannot be
// built.
func BuildSimTx(txf Factory, msgs ...sdk.Msg) ([]byte, error) {
	txb, err := BuildUnsignedTx(txf, msgs...)
	if err != nil {
		return nil, err
	}

	// Create an empty signature literal as the ante handler will populate with a
	// sentinel pubkey.
	sig := signing.SignatureV2{
		PubKey: &amp;secp256k1.PubKey{},
		Data: &amp;signing.SingleSignatureData{
			SignMode: txf.signMode,
		},
		Sequence: txf.Sequence(),
	}
	if err := txb.SetSignatures(sig); err != nil {
		return nil, err
	}

	protoProvider, ok := txb.(authtx.ProtoTxProvider)
	if !ok {
		return nil, fmt.Errorf(&quot;cannot simulate amino tx&quot;)
	}
	simReq := tx.SimulateRequest{Tx: protoProvider.GetProtoTx()}

	return simReq.Marshal()
}

// CalculateGas simulates the execution of a transaction and returns the
// simulation response obtained by the query and the adjusted gas amount.
func CalculateGas(
	queryFunc func(string, []byte) ([]byte, int64, error), txf Factory, msgs ...sdk.Msg,
) (tx.SimulateResponse, uint64, error) {
	txBytes, err := BuildSimTx(txf, msgs...)
	if err != nil {
		return tx.SimulateResponse{}, 0, err
	}

	// TODO This should use the generated tx service Client.
	// https://github.com/cosmos/cosmos-sdk/issues/7726
	bz, _, err := queryFunc(&quot;/cosmos.tx.v1beta1.Service/Simulate&quot;, txBytes)
	if err != nil {
		return tx.SimulateResponse{}, 0, err
	}

	var simRes tx.SimulateResponse

	if err := simRes.Unmarshal(bz); err != nil {
		return tx.SimulateResponse{}, 0, err
	}

	return simRes, uint64(txf.GasAdjustment() * float64(simRes.GasInfo.GasUsed)), nil
}

// PrepareFactory ensures the account defined by ctx.GetFromAddress() exists and
// if the account number and/or the account sequence number are zero (not set),
// they will be queried for and set on the provided Factory. A new Factory with
// the updated fields will be returned.
func PrepareFactory(clientCtx client.Context, txf Factory) (Factory, error) {
	from := clientCtx.GetFromAddress()

	if err := txf.accountRetriever.EnsureExists(clientCtx, from); err != nil {
		return txf, err
	}

	initNum, initSeq := txf.accountNumber, txf.sequence
	if initNum == 0 || initSeq == 0 {
		num, seq, err := txf.accountRetriever.GetAccountNumberSequence(clientCtx, from)
		if err != nil {
			return txf, err
		}

		if initNum == 0 {
			txf = txf.WithAccountNumber(num)
		}

		if initSeq == 0 {
			txf = txf.WithSequence(seq)
		}
	}

	return txf, nil
}

// SignWithPrivKey signs a given tx with the given private key, and returns the
// corresponding SignatureV2 if the signing is successful.
func SignWithPrivKey(
	signMode signing.SignMode, signerData authsigning.SignerData,
	txBuilder client.TxBuilder, priv cryptotypes.PrivKey, txConfig client.TxConfig,
	accSeq uint64,
) (signing.SignatureV2, error) {
	var sigV2 signing.SignatureV2

	// Generate the bytes to be signed.
	signBytes, err := txConfig.SignModeHandler().GetSignBytes(signMode, signerData, txBuilder.GetTx())
	if err != nil {
		return sigV2, err
	}

	// Sign those bytes
	signature, err := priv.Sign(signBytes)
	if err != nil {
		return sigV2, err
	}

	// Construct the SignatureV2 struct
	sigData := signing.SingleSignatureData{
		SignMode:  signMode,
		Signature: signature,
	}

	sigV2 = signing.SignatureV2{
		PubKey:   priv.PubKey(),
		Data:     &amp;sigData,
		Sequence: accSeq,
	}

	return sigV2, nil
}

func checkMultipleSigners(mode signing.SignMode, tx authsigning.Tx) error {
	if mode == signing.SignMode_SIGN_MODE_DIRECT &amp;&amp;
		len(tx.GetSigners()) &gt; 1 {
		return sdkerrors.Wrap(sdkerrors.ErrNotSupported, &quot;Signing in DIRECT mode is only supported for transactions with one signer only&quot;)
	}
	return nil
}

// Sign signs a given tx with a named key. The bytes signed over are canconical.
// The resulting signature will be added to the transaction builder overwriting the previous
// ones if overwrite=true (otherwise, the signature will be appended).
// Signing a transaction with mutltiple signers in the DIRECT mode is not supprted and will
// return an error.
// An error is returned upon failure.
func Sign(txf Factory, name string, txBuilder client.TxBuilder, overwriteSig bool) error {
	if txf.keybase == nil {
		return errors.New(&quot;keybase must be set prior to signing a transaction&quot;)
	}

	signMode := txf.signMode
	if signMode == signing.SignMode_SIGN_MODE_UNSPECIFIED {
		// use the SignModeHandler&#39;s default mode if unspecified
		signMode = txf.txConfig.SignModeHandler().DefaultMode()
	}
	if err := checkMultipleSigners(signMode, txBuilder.GetTx()); err != nil {
		return err
	}

	key, err := txf.keybase.Key(name)
	if err != nil {
		return err
	}
	pubKey := key.GetPubKey()
	signerData := authsigning.SignerData{
		ChainID:       txf.chainID,
		AccountNumber: txf.accountNumber,
		Sequence:      txf.sequence,
	}

	// For SIGN_MODE_DIRECT, calling SetSignatures calls setSignerInfos on
	// TxBuilder under the hood, and SignerInfos is needed to generated the
	// sign bytes. This is the reason for setting SetSignatures here, with a
	// nil signature.
	//
	// Note: this line is not needed for SIGN_MODE_LEGACY_AMINO, but putting it
	// also doesn&#39;t affect its generated sign bytes, so for code&#39;s simplicity
	// sake, we put it here.
	sigData := signing.SingleSignatureData{
		SignMode:  signMode,
		Signature: nil,
	}
	sig := signing.SignatureV2{
		PubKey:   pubKey,
		Data:     &amp;sigData,
		Sequence: txf.Sequence(),
	}
	var prevSignatures []signing.SignatureV2
	if !overwriteSig {
		prevSignatures, err = txBuilder.GetTx().GetSignaturesV2()
		if err != nil {
			return err
		}
	}
	if err := txBuilder.SetSignatures(sig); err != nil {
		return err
	}

	// Generate the bytes to be signed.
	bytesToSign, err := txf.txConfig.SignModeHandler().GetSignBytes(signMode, signerData, txBuilder.GetTx())
	if err != nil {
		return err
	}

	// Sign those bytes
	sigBytes, _, err := txf.keybase.Sign(name, bytesToSign)
	if err != nil {
		return err
	}

	// Construct the SignatureV2 struct
	sigData = signing.SingleSignatureData{
		SignMode:  signMode,
		Signature: sigBytes,
	}
	sig = signing.SignatureV2{
		PubKey:   pubKey,
		Data:     &amp;sigData,
		Sequence: txf.Sequence(),
	}

	if overwriteSig {
		return txBuilder.SetSignatures(sig)
	}
	prevSignatures = append(prevSignatures, sig)
	return txBuilder.SetSignatures(prevSignatures...)
}

// GasEstimateResponse defines a response definition for tx gas estimation.
type GasEstimateResponse struct {
	GasEstimate uint64 `json:&quot;gas_estimate&quot; yaml:&quot;gas_estimate&quot;`
}

func (gr GasEstimateResponse) String() string {
	return fmt.Sprintf(&quot;gas estimate: %d&quot;, gr.GasEstimate)
}
```

```
func (w *wrapper) SetFeeGranter(feeGranter sdk.AccAddress) {
	if w.tx.AuthInfo.Fee == nil {
		w.tx.AuthInfo.Fee = &amp;tx.Fee{}
	}

	w.tx.AuthInfo.Fee.Granter = feeGranter.String()

	// set authInfoBz to nil because the cached authInfoBz no longer matches tx.AuthInfo
	w.authInfoBz = nil
}
```

```
// Fee includes the amount of coins paid in fees and the maximum
// gas to be used by the transaction. The ratio yields an effective &quot;gasprice&quot;,
// which must be above some miminum to be accepted into the mempool.
message Fee {
  // amount is the amount of coins to be paid as a fee
  repeated cosmos.base.v1beta1.Coin amount = 1
      [(gogoproto.nullable) = false, (gogoproto.castrepeated) = &quot;github.com/cosmos/cosmos-sdk/types.Coins&quot;];

  // gas_limit is the maximum gas that can be used in transaction processing
  // before an out of gas error occurs
  uint64 gas_limit = 2;

  // if unset, the first signer is responsible for paying the fees. If set, the specified account must pay the fees.
  // the payer must be a tx signer (and thus have signed this field in AuthInfo).
  // setting this field does *not* change the ordering of required signers for the transaction.
  string payer = 3;

  // if set, the fee payer (either the first signer or the value of the payer field) requests that a fee grant be used
  // to pay fees instead of the fee payer&#39;s own balance. If an appropriate fee grant does not exist or the chain does
  // not support fee grants, this will fail
  string granter = 4;
}
```
</pre></div>
</div>
<p>The following example shows a CLI command with the <code class="docutils literal notranslate"><span class="pre">--fee-account</span></code> flag:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">terrad</span> <span class="n">tx</span> <span class="n">gov</span> <span class="n">submit</span><span class="o">-</span><span class="n">proposal</span> <span class="o">--</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Test Proposal&quot;</span> <span class="o">--</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;My awesome proposal&quot;</span> <span class="o">--</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;Text&quot;</span> <span class="o">--</span><span class="kn">from</span> <span class="nn">validator</span><span class="o">-</span><span class="n">key</span> <span class="o">--</span><span class="n">fee</span><span class="o">-</span><span class="n">account</span><span class="o">=</span><span class="n">terra1fmcjjt6yc9wqup2r06urnrd928jhrde6gcld6n</span> <span class="o">--</span><span class="n">chain</span><span class="o">-</span><span class="nb">id</span><span class="o">=</span><span class="n">testnet</span> <span class="o">--</span><span class="n">fees</span><span class="o">=</span><span class="s2">&quot;10uluna&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="granted-fee-deductions">
<h3>Granted fee deductions<a class="headerlink" href="#granted-fee-deductions" title="Permalink to this headline">¶</a></h3>
<p>Fees are deducted from grants in the <code class="docutils literal notranslate"><span class="pre">auth</span></code> ante handler.</p>
</div>
<div class="section" id="gas">
<h3>Gas<a class="headerlink" href="#gas" title="Permalink to this headline">¶</a></h3>
<p>To prevent DoS attacks, using a filtered <code class="docutils literal notranslate"><span class="pre">feegrant</span></code> incurs gas. To ensure that all the grantee’s transactions conform to the filter set by the granter, the SDK iterates over the allowed messages in the filter and charges 10 gas per filtered message. Then, the SDK iterates over the messages sent by the grantee to ensure the messages adhere to the filter, which also charges 10 gas per message. If the SDK finds a message that does not conform to the filter, the SDK stops iterating, and the transaction fails.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Gas is charged against the granted allowance. Ensure all your existing messages conform to the filter before you send transactions using your allowance.</p>
</div>
</div>
</div>
<div class="section" id="state">
<h2>State<a class="headerlink" href="#state" title="Permalink to this headline">¶</a></h2>
<div class="section" id="feeallowance">
<h3>FeeAllowance<a class="headerlink" href="#feeallowance" title="Permalink to this headline">¶</a></h3>
<p>Fee allowances are identified by combining <code class="docutils literal notranslate"><span class="pre">Granter</span></code> (the account address that grants permission to another account to spend its available tokens on fees) with <code class="docutils literal notranslate"><span class="pre">Grantee</span></code> (the account address that receives permission to spend the granter’s tokens on fees).</p>
<p>The following example shows how a fee allowance is stored in the state:</p>
<p>Grant: <code class="docutils literal notranslate"><span class="pre">0x00</span> <span class="pre">|</span> <span class="pre">grantee_addr_len</span> <span class="pre">(1</span> <span class="pre">byte)</span> <span class="pre">|</span> <span class="pre">grantee_addr_bytes</span> <span class="pre">|</span> <span class="pre">granter_addr_len</span> <span class="pre">(1</span> <span class="pre">byte)</span> <span class="pre">|</span> <span class="pre">granter_addr_bytes</span> <span class="pre">-&gt;</span> <span class="pre">ProtocolBuffer(Grant)</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>// Grant is stored in the KVStore to record a grant with full context
type Grant struct {
	// granter is the address of the user granting an allowance of their funds.
	Granter string `protobuf:&quot;bytes,1,opt,name=granter,proto3&quot; json:&quot;granter,omitempty&quot;`
	// grantee is the address of the user being granted an allowance of another user&#39;s funds.
	Grantee string `protobuf:&quot;bytes,2,opt,name=grantee,proto3&quot; json:&quot;grantee,omitempty&quot;`
	// allowance can be any of basic and filtered fee allowance.
	Allowance *types1.Any `protobuf:&quot;bytes,3,opt,name=allowance,proto3&quot; json:&quot;allowance,omitempty&quot;`
}
</pre></div>
</div>
</div>
</div>
<div class="section" id="message-types">
<h2>Message Types<a class="headerlink" href="#message-types" title="Permalink to this headline">¶</a></h2>
<div class="section" id="msggrantallowance">
<h3>MsgGrantAllowance<a class="headerlink" href="#msggrantallowance" title="Permalink to this headline">¶</a></h3>
<p>A fee allowance grant will be created with the MsgGrantAllowance message.</p>
<div class="highlight-proto notranslate"><div class="highlight"><pre><span></span><span class="c1">// MsgGrantAllowance adds permission for Grantee to spend up to Allowance</span>
<span class="c1">// of fees from the account of Granter.</span>
<span class="kd">message</span> <span class="nc">MsgGrantAllowance</span> <span class="p">{</span>
  <span class="c1">// granter is the address of the user granting an allowance of their funds.</span>
  <span class="kt">string</span>              <span class="na">granter</span>   <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

  <span class="c1">// grantee is the address of the user being granted an allowance of another user&#39;s funds.</span>
  <span class="kt">string</span>              <span class="na">grantee</span>   <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

  <span class="c1">// allowance can be any of basic and filtered fee allowance.</span>
  <span class="n">google.protobuf.Any</span> <span class="na">allowance</span> <span class="o">=</span> <span class="mi">3</span> <span class="p">[(</span><span class="n">cosmos_proto.accepts_interface</span><span class="p">)</span> <span class="o">=</span> <span class="s">&quot;FeeAllowanceI&quot;</span><span class="p">];</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="msgrevokeallowance">
<h3>MsgRevokeAllowance<a class="headerlink" href="#msgrevokeallowance" title="Permalink to this headline">¶</a></h3>
<p>A fee allowance grant will be revokeed with the MsgRevokeAllowance message.</p>
<div class="highlight-proto notranslate"><div class="highlight"><pre><span></span><span class="c1">// MsgRevokeAllowance removes any existing Allowance from Granter to Grantee.</span>
<span class="kd">message</span> <span class="nc">MsgRevokeAllowance</span> <span class="p">{</span>
  <span class="c1">// granter is the address of the user granting an allowance of their funds.</span>
  <span class="kt">string</span> <span class="na">granter</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

  <span class="c1">// grantee is the address of the user being granted an allowance of another user&#39;s funds.</span>
  <span class="kt">string</span> <span class="na">grantee</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>


              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="spec-evidence.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Evidence</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="spec-governance.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Governance</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Terraform Labs<br/>
    
        &copy; Copyright 2021, Terraform Labs.<br/>
      <div class="extra_footer">
        <div class="logos"><a href="https://discord.gg/e29HWwC2Mz" rel="noopener" target="_blank"><img src="https://docs.terra.money/img/discord.svg" alt="link to Terra discord room"></a> <a href="https://medium.com/terra-money" rel="noopener" target="_blank"><img src="https://docs.terra.money/img/medium.svg" alt="link to Terra medium"></a> <a href="https://twitter.com/terra_money" rel="noopener" target="_blank"><img src="https://docs.terra.money/img/twitter.svg" alt="link to Terra twitter"></a> <a href="https://www.youtube.com/channel/UCoV1RXZ9ZBGcuu_PMTTlM0g" rel="noopener" target="_blank"><img src="https://docs.terra.money/img/icon_youtube.png" alt="link to Terra youtube"></a> <a href="https://t.me/terra_announcements" rel="noopener" target="_blank"><img src="https://docs.terra.money/img/icon_telegram.png" alt="link to Terra telegram room"></a></div>
      </div>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>